<!DOCTYPE html>
<html>
<head>
<script type="text/javascript">
function submit() {
  var email = document.getElementById('email');
  var pass = document.getElementById('password');
  login(email, pass);
}

function login(email, pass) {
  try {
    console.log(email);
    console.log(pass);

    var fd = new FormData();
    fd.append("email", email);
    fd.append("password", pass);
    var xhr = new XMLHttpRequest();
    xhr.open("POST", "/login");
    xhr.onreadystatechange = function() {
      if (xhr.readyState == 4 && xhr.status == 200) {
        mycallback(xhr.responseText); // Another callback here
      }
    };
    xhr.send(fd);
  } catch(err) {
    document.getElementById("fileForm").submit();
  }
}

function mycallback(data) {
  document.getElementById("result").innerHTML = data;
}
</script>

<meta charset="utf-8">
<title>Music Album Collections</title>
</head>
<body>
<h1>Login</h1>
<label for="email">Email</label>
<input type="text" id="email" name="email">
<label for="password">Password</label>
<input type="password" id="password" name="password">
<button type="submit" onchange="submit()">Login</button>
<div id='result'></div>
</html>